<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:TurboGit.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="TurboGit.Views.MainView"
        Icon="/Assets/avalonia-logo.ico"
        Title="TurboGit"
        Width="1280" Height="720">

    <Design.DataContext>
        <vm:MainViewModel/>
    </Design.DataContext>

    <Grid ColumnDefinitions="250, *">
        <!-- Sidebar for Repositories -->
        <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="0,0,1,0">
            <StackPanel>
                <Button Content="Add Repository"
                        Command="{Binding AddRepositoryCommand}"
                        Margin="10" />

                <TextBlock Text="Recent Repositories"
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="10,20,10,10"/>

                <ListBox ItemsSource="{Binding Repositories}"
                           SelectedItem="{Binding SelectedRepository}"
                           Background="Transparent">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <TextBlock Text="{Binding Name}" FontWeight="Bold" />
                                <TextBlock Text="{Binding Path}" FontSize="10" />
                            </StackPanel>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </StackPanel>
        </Border>

        <!-- Main Content Area -->
        <Grid Grid.Column="1">
            <TextBlock Text="Welcome to TurboGit! Select or add a repository to begin."
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       IsVisible="{Binding !IsRepositorySelected}" />

            <!-- This is where the Commit Graph and Staging Area will go -->
            <TextBlock Text="{Binding SelectedRepository.Name, StringFormat='Selected: {0}'}"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       IsVisible="{Binding IsRepositorySelected}" />
        </Grid>
    </Grid>
</Window>
